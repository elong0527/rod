---
title: "Inheritance"
---

::: callout-tip
## Objective

Building inheritance enables a single source of truth that reduces review burden.
:::

# Overview

To ensure consistency in clinical study reporting deliverables, a biometrics organization has established standards, business rules, and templates.

Building AI-prompt-ready templates that can interact with GenAI in a predictable way is critical. Template inheritance allows organizations to create reusable keyword definitions that can be shared across therapeutic areas and studies, while maintaining study-specific flexibility.

## Inheritance Hierarchy

To enable GenAI to produce accurate and consistent deliverables, we must maximize the use of organization and therapeutic area (TA) level templates, ensuring that study analysis and reporting plans inherit this knowledge.

```
Organization Templates
    ↓
TA Templates
    ↓
Study Plans
```

# Example 

For clinical analysis and reporting specifically,
the template can be organized as a collection of keywords in different categories including population, observation, and parameter, etc.

## Organization or TA Template

For simplicity, we do not differentiate between organization and TA templates.
A template can be as simple as a keyword name and its label that is expected to be used across TLFs and documentation
(e.g., `apat` and `itt`). 

**`organization.yaml`**
```yaml
population:
  - name: apat
    label: "All Participants as Treated"
  - name: itt
    label: "Intention-to-Treat"

parameter:
  - name: any
    label: "Any Adverse Event"
  - name: rel
    label: "Related Adverse Events"
  - name: ser
    label: "Serious Adverse Events"
```

## Study Plan Inheritance

Reference the template "organization.yaml", so the knowledge will be inherited while building the study analysis plan. 

**`plan_xyz123.yaml`**
```yaml
study:
  name: "XYZ123"
  template:
    - organization.yaml
```

To make a keyword useful, we can define a `filter` following an enhanced SQL syntax.
For example, `adae:trtemfl == "Y"` reads as the `ADAE` dataset `trtemfl` flag equal to `Y`. 

**`plan_xyz123.yaml`**
```yaml
# Study-specific parameter filters
parameter:
  - name: any
    filter: "adae:trtemfl == 'Y'"
  - name: rel
    filter: "adae:trtemfl == 'Y' and adae:aerel in ['RELATED', 'PROBABLY RELATED']"
```
  
## Field-Level Inheritance

The system performs intelligent field-level merging:

### Example Resolution

```python
# Template: organization.yaml
parameter:
  - name: any
    label: "Any Adverse Event"

# Study: plan_xyz123.yaml
parameter:
  - name: any
    filter: "adae:trtemfl == 'Y'"

# Final merged result:
parameter:
  - name: any
    label: "Any Adverse Event"        # From template
    filter: "adae:trtemfl == 'Y'"     # From study
```

## Multiple Templates

Templates are loaded in order with later templates able to override earlier ones.

```yaml
study:
  template:
    - organization.yaml
    - ta_oncology.yaml
    - safety_common.yaml
```

### Conditional Inheritance

Study plans can completely override template definitions when needed:

```yaml
# Study completely replaces template definition
parameter:
  - name: ser
    label: "Study-Specific Serious Adverse Events"
    filter: "adae:aeser == 'Y'"
```

## Benefits

### 1. Consistency
- Organization-wide keyword standards
- Consistent labeling across studies
- Regulatory compliance templates

### 2. Efficiency
- Reduce duplication
- Faster study setup
- Standardized filters

### 3. Maintenance
- Update templates to affect all studies
- Version control for standards
- Clear inheritance chain

### 4. Flexibility
- Study-specific customizations
- Override capability when needed
- Gradual migration of standards

This inheritance system provides the balance of standardization and flexibility for large-scale organizations.